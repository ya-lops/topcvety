<!-- Здесь используются для кнопок классы из бутстрапа --><!-- Поэтому нужно тестить -->
<div class="tc-buy">
  <div class="_price">4990 руб.</div>
  <button class="button button-lg add-to-cart">Купить</button>
  <p class="_description">
    Для данного товара доступна бесплатная доставка по Москве
  </p>
  <div class="tc-popover">
    <button class="button button-lg add-to-cart-with get-popover"
      >Купить с менеджером</button
    >
    <aside class="_popover-content" tabindex="-1">
      <header>купить с менеджером</header>
      <a href="#support" class="for-support">
        <div class="_icon">
          <svg
            width="21"
            height="22"
            viewBox="0 0 21 22"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M20.0055 15.3613L18.1454 13.4903C17.5909 12.937 16.8425 12.6251 16.0614 12.6218C15.2804 12.6184 14.5294 12.9239 13.9702 13.4724C13.6719 13.7743 13.2783 13.962 12.8571 14.0035C12.436 14.0449 12.0137 13.9374 11.6628 13.6995C10.278 12.7699 9.08841 11.5756 8.16156 10.1845C7.92918 9.8277 7.82618 9.40119 7.86992 8.97689C7.91366 8.55258 8.10146 8.15641 8.40168 7.85511C8.94204 7.29216 9.24186 6.53881 9.23696 5.75631C9.23206 4.97381 8.92284 4.22432 8.37547 3.66826L6.51534 1.79723C5.95844 1.23899 5.20427 0.925537 4.41805 0.925537C3.63182 0.925537 2.87765 1.23899 2.32075 1.79723L1.78554 2.33643C-1.00465 5.14297 -0.79581 11.0435 5.00948 16.8794C8.50991 20.4012 12.0332 21.8759 14.8901 21.8759C15.7312 21.9041 16.5693 21.7636 17.3558 21.4627C18.1423 21.1617 18.8614 20.7064 19.4711 20.1231L20.0072 19.5839C20.5632 19.0235 20.8753 18.264 20.875 17.4723C20.8747 16.6805 20.562 15.9213 20.0055 15.3613ZM18.8099 18.3813L18.2739 18.9205C16.0756 21.1318 11.2232 20.7278 6.20335 15.6777C1.18354 10.6276 0.781072 5.7434 2.97941 3.53219L3.51123 2.99384C3.75069 2.75385 4.07494 2.6191 4.41297 2.6191C4.751 2.6191 5.07526 2.75385 5.31471 2.99384L7.17484 4.86487C7.40995 5.10254 7.5434 5.42322 7.54672 5.75848C7.55003 6.09374 7.42295 6.41702 7.1926 6.65935C6.62126 7.2377 6.26488 7.99596 6.18314 8.80712C6.1014 9.61828 6.29928 10.4331 6.74363 11.115C7.79676 12.7001 9.15101 14.0603 10.7285 15.1172C11.4044 15.5643 12.2123 15.7645 13.0173 15.6845C13.8223 15.6044 14.5756 15.249 15.1514 14.6776C15.3919 14.4431 15.7142 14.3129 16.0491 14.315C16.3839 14.3171 16.7046 14.4512 16.9422 14.6886L18.8023 16.5596C18.9222 16.6785 19.0176 16.82 19.0829 16.976C19.1482 17.1321 19.1822 17.2996 19.1829 17.4689C19.1836 17.6382 19.151 17.806 19.087 17.9626C19.023 18.1192 18.9288 18.2615 18.8099 18.3813Z"
              fill="black"></path>
          </svg>
        </div>
        <span>Позвонить</span>
      </a>
      <div class="_separator">или</div>
      <a href="#whatsapp" class="for-whatsapp">
        <div class="_icon">
          <svg
            width="22"
            height="21"
            viewBox="0 0 22 21"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18.3116 3.0625C16.336 1.09375 13.7018 0 10.9213 0C5.14086 0 0.457935 4.66667 0.457935 10.4271C0.457935 12.25 0.970131 14.0729 1.84818 15.6042L0.384766 21L5.94574 19.5417C7.48233 20.3438 9.16525 20.7812 10.9213 20.7812C16.7018 20.7812 21.3848 16.1146 21.3848 10.3542C21.3116 7.65625 20.2872 5.03125 18.3116 3.0625ZM15.9701 14.1458C15.7506 14.7292 14.7262 15.3125 14.214 15.3854C13.775 15.4583 13.1896 15.4583 12.6043 15.3125C12.2384 15.1667 11.7262 15.0208 11.1409 14.7292C8.50672 13.6354 6.82379 11.0104 6.67745 10.7917C6.53111 10.6458 5.57989 9.40625 5.57989 8.09375C5.57989 6.78125 6.23842 6.19792 6.45794 5.90625C6.67745 5.61458 6.97013 5.61458 7.18964 5.61458C7.33598 5.61458 7.55549 5.61458 7.70184 5.61458C7.84818 5.61458 8.06769 5.54167 8.2872 6.05208C8.50672 6.5625 9.01891 7.875 9.09208 7.94792C9.16525 8.09375 9.16525 8.23958 9.09208 8.38542C9.01891 8.53125 8.94574 8.67708 8.7994 8.82292C8.65306 8.96875 8.50671 9.1875 8.43354 9.26042C8.2872 9.40625 8.14086 9.55208 8.2872 9.77083C8.43355 10.0625 8.94574 10.8646 9.75062 11.5937C10.775 12.4687 11.5799 12.7604 11.8726 12.9063C12.1653 13.0521 12.3116 12.9792 12.4579 12.8333C12.6043 12.6875 13.1165 12.1042 13.2628 11.8125C13.4092 11.5208 13.6287 11.5938 13.8482 11.6667C14.0677 11.7396 15.3848 12.3958 15.6043 12.5417C15.897 12.6875 16.0433 12.7604 16.1165 12.8333C16.1896 13.0521 16.1896 13.5625 15.9701 14.1458Z"
              fill="white"></path>
          </svg>
        </div>
        <span>Связаться в WhatsApp</span>
      </a>
      <div class="_separator">или</div>
      <a href="#telegram" class="for-telegram">
        <div class="_icon">
          <svg
            width="21"
            height="19"
            viewBox="0 0 21 19"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M1.17492 9.00225L5.77302 10.7168L7.56548 16.4839C7.64341 16.8735 8.11102 16.9515 8.42276 16.7177L10.9946 14.6135C11.2284 14.3797 11.618 14.3797 11.9298 14.6135L16.5278 17.9646C16.8396 18.1984 17.3072 18.0425 17.3851 17.6529L20.8142 1.28683C20.8921 0.897162 20.5025 0.507497 20.1128 0.663364L1.17492 7.98912C0.707318 8.14499 0.707318 8.84639 1.17492 9.00225ZM7.33169 9.85952L16.372 4.32624C16.5278 4.24831 16.6837 4.48211 16.5278 4.56004L9.12415 11.4961C8.89035 11.7299 8.65655 12.0417 8.65655 12.4313L8.42276 14.3017C8.42276 14.5355 8.03308 14.6135 7.95515 14.3017L7.01994 10.8727C6.78614 10.483 6.94202 10.0154 7.33169 9.85952Z"
              fill="white"></path>
          </svg>
        </div>
        <span>Связаться в Telegram</span>
      </a>
    </aside>
  </div>
</div>

<style lang="scss" is:global>
  .tc-buy {
    position: relative;

    ._price {
      margin-bottom: 32px;
      font-family: Lora;
      color: #404040;
      font-size: 28px;
      font-weight: 500;
    }

    .add-to-cart-with,
    .add-to-cart-with:focus,
    .add-to-cart,
    .add-to-cart:focus {
      --_color: #fc0884;

      min-width: min-content;
      width: 100%;
      padding-inline: 8px;
      border-color: var(--_color);
      background: var(--_color);
      box-shadow: 5px 6px 10px 0px #0000002e;
      color: #fff;
      font-size: 20px;
      line-height: 1;
      font-weight: 600;
      text-transform: uppercase;
    }

    .add-to-cart-with,
    .add-to-cart-with:focus {
      --_color: #5fa185;
    }

    .add-to-cart:hover {
      --_color: color-mix(in oklab, #fc0884, #000 10%);
    }

    .add-to-cart-with {
      --_color: #5fa185;
    }

    .add-to-cart-with:hover {
      --_color: color-mix(in oklab, #5fa185, #000 10%);
    }

    .add-to-cart {
      min-width: 180px;
    }

    ._description {
      padding: 4px;
      border: 1px solid currentColor;
      border-radius: 4px;
      color: #5fa185;
      font-size: 16px;
      font-weight: 600;
      text-align: center;
    }

    @media (width < 768px) {
      display: grid;
      grid-template-columns: auto minmax(0, 1fr);
      gap: 16px;
      order: 4;

      ._price,
      ._description {
        grid-column: 1/-1;
      }

      ._description {
        order: 99;
      }
    }

    @media (width < 480px) {
      grid-template-columns: 100%;
    }
  }

  .tc-popover {
    position: relative;

    ._popover-content {
      position: absolute;
      inset: auto 0 0 0;
      display: none;
      gap: 12px;
      padding: 16px 20px;
      box-shadow:
        0 0 0 10px #fff,
        0px 0px 14.4px 17px #0000000f;
      background: #fff;
      border-radius: 20px;
      font-size: 15px;
      animation: showin 0.25s forwards;

      header {
        text-align: center;
        text-transform: uppercase;
        margin-bottom: 8px;
      }

      a {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 12px;
        border-radius: 4px;
        background: #e5e5e5;
        font-weight: 700;

        &.for-whatsapp {
          background: #25d366;
          color: #fff;
        }

        &.for-telegram {
          background: #2aabee;
          color: #fff;
        }
      }

      ._separator {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #0000004d;

        &::after,
        &::before {
          content: "";
          height: 0.5px;
          flex: 1;
          background: currentColor;
          translate: 0 2px;
        }
      }
    }

    &:focus-within ._popover-content {
      display: flex;
      flex-direction: column;
    }
  }

  @keyframes showin {
    from {
      opacity: 0;
      scale: 0.75;
    }

    to {
      opacity: 1;
      scale: 1;
    }
  }
</style>
